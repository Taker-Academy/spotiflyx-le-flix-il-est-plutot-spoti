<app-header></app-header>
<div class="navigation">
    <form class="search-container" [formGroup]="searchForm">
        <input type="text" placeholder="Rechercher Film ou Série..." formControlName="searchInput">
        <a href="#">
            <label (click)="searchRequest()" for="search-box" class="fas fa-search fa-2xl"></label>
        </a>
    </form>
</div>
<section class="containerHome">
    <div class="settings">
        <h2>Popular :</h2>
        <div class="typeSettings">
            <h3 class="videoSettings" (click)="settingsVideo()" [style.border-bottom]="typeSettings ? '3px solid #6C3F49' : 'none'" [style.color]="typeSettings ? 'white' : 'grey'">MUSICS</h3>
            <h3 class="musicSettings" (click)="settingsMusic()" [style.border-bottom]="!typeSettings ? '3px solid #6C3F49' : 'none'" [style.color]="!typeSettings ? 'white' : 'grey'">VIDEOS</h3>
        </div>
        <div class="popContent" [style.display]="typeSettings ? 'initial' : 'none'">
            <!-- 5 popular vidéo -->
            <div class="boxPop">
                <p class="boxPopId"><b>1</b></p>
                <img src="{{popularAlbumTab[0]?.albumImage}}" alt="Img Album" class="imgBoxPopVideo">
                <div class="infoPop">
                    <p class="boxPopTitle">{{popularAlbumTab[0]?.title}}</p>
                    <div class="moreInfoPop">
                        <p class="boxPopArtist">{{popularAlbumTab[0]?.artist}}</p>
                        <p class="boxPopDate">{{popularAlbumTab[0]?.releaseDate}}</p>
                    </div>
                </div>
            </div>

            <div class="boxPop">
                <p class="boxPopId"><b>2</b></p>
                <img src="{{popularAlbumTab[1]?.albumImage}}" alt="Img Album" class="imgBoxPopVideo">
                <div class="infoPop">
                    <p class="boxPopTitle">{{popularAlbumTab[1]?.title}}</p>
                    <div class="moreInfoPop">
                        <p class="boxPopArtist">{{popularAlbumTab[1]?.artist}}</p>
                        <p class="boxPopDate">{{popularAlbumTab[1]?.releaseDate}}</p>
                    </div>
                </div>
            </div>

            <div class="boxPop">
                <p class="boxPopId"><b>3</b></p>
                <img src="{{popularAlbumTab[2]?.albumImage}}" alt="Img Album" class="imgBoxPopVideo">
                <div class="infoPop">
                    <p class="boxPopTitle">{{popularAlbumTab[2]?.title}}</p>
                    <div class="moreInfoPop">
                        <p class="boxPopArtist">{{popularAlbumTab[2]?.artist}}</p>
                        <p class="boxPopDate">{{popularAlbumTab[2]?.releaseDate}}</p>
                    </div>
                </div>
            </div>

            <div class="boxPop">
                <p class="boxPopId"><b>4</b></p>
                <img src="{{popularAlbumTab[3]?.albumImage}}" alt="Img Album" class="imgBoxPopVideo">
                <div class="infoPop">
                    <p class="boxPopTitle">{{popularAlbumTab[3]?.title}}</p>
                    <div class="moreInfoPop">
                        <p class="boxPopArtist">{{popularAlbumTab[3]?.artist}}</p>
                        <p class="boxPopDate">{{popularAlbumTab[3]?.releaseDate}}</p>
                    </div>
                </div>
            </div>

            <div class="boxPop">
                <p class="boxPopId"><b>5</b></p>
                <img src="{{popularAlbumTab[4]?.albumImage}}" alt="Img Album" class="imgBoxPopVideo">
                <div class="infoPop">
                    <p class="boxPopTitle">{{popularAlbumTab[4]?.title}}</p>
                    <div class="moreInfoPop">
                        <p class="boxPopArtist">{{popularAlbumTab[4]?.artist}}</p>
                        <p class="boxPopDate">{{popularAlbumTab[4]?.releaseDate}}</p>
                    </div>
                </div>
            </div>
        </div>

        <div class="popContent" [style.display]="!typeSettings ? 'initial' : 'none'">
            <!-- 5 popular video -->
        </div>

        <div class="categories">
            <h2>Catégories :</h2>
            <div class="typeSettings">
                <h3 class="videoSettings" (click)="categoriesVideo()" [style.border-bottom]="typeCategories ? '3px solid #6C3F49' : 'none'" [style.color]="typeCategories ? 'white' : 'grey'">MUSICS</h3>
                <h3 class="musicSettings" (click)="categoriesMusic()" [style.border-bottom]="!typeCategories ? '3px solid #6C3F49' : 'none'" [style.color]="!typeCategories ? 'white' : 'grey'">VIDEOS</h3>
            </div>
            <div class="contentCategoriesMusic" [style.display]="typeCategories ? 'block' : 'none'">
                <section class="boxCategories" (click)="addCategory(tabCategories[3]?.name)" [style.background-color]="categoryAddedOrNot(tabCategories[3]?.name) ? 'rgba(111, 111, 111, 0.5)' : null">
                    <p class="boxCategoriesTitle">{{tabCategories[3]?.name}}</p>
                    <i class="fa-solid fa-music"></i>
                </section>
                <section class="boxCategories" (click)="addCategory(tabCategories[5]?.name)" [style.background-color]="categoryAddedOrNot(tabCategories[5]?.name) ? 'rgba(111, 111, 111, 0.5)' : null">
                    <p class="boxCategoriesTitle">{{tabCategories[5]?.name}}</p>
                    <i class="fa-solid fa-music"></i>
                </section>
                <section class="boxCategories" (click)="addCategory(tabCategories[8]?.name)" [style.background-color]="categoryAddedOrNot(tabCategories[8]?.name) ? 'rgba(111, 111, 111, 0.5)' : null">
                    <p class="boxCategoriesTitle">{{tabCategories[8]?.name}}</p>
                    <i class="fa-solid fa-music"></i>
                </section>
                <section class="boxCategories" (click)="addCategory(tabCategories[9]?.name)" [style.background-color]="categoryAddedOrNot(tabCategories[9]?.name) ? 'rgba(111, 111, 111, 0.5)' : null">
                    <p class="boxCategoriesTitle">{{tabCategories[9]?.name}}</p>
                    <i class="fa-solid fa-music"></i>
                </section>
                <section class="boxCategories" (click)="addCategory(tabCategories[12]?.name)" [style.background-color]="categoryAddedOrNot(tabCategories[12]?.name) ? 'rgba(111, 111, 111, 0.5)' : null">
                    <p class="boxCategoriesTitle">{{tabCategories[12]?.name}}</p>
                    <i class="fa-solid fa-music"></i>
                </section>
                <section class="boxCategories" (click)="addCategory(tabCategories[13]?.name)" [style.background-color]="categoryAddedOrNot(tabCategories[13]?.name) ? 'rgba(111, 111, 111, 0.5)' : null">
                    <p class="boxCategoriesTitle">{{tabCategories[13]?.name}}</p>
                    <i class="fa-solid fa-music"></i>
                </section>
                <section class="boxCategories" (click)="addCategory(tabCategories[15]?.name)" [style.background-color]="categoryAddedOrNot(tabCategories[15]?.name) ? 'rgba(111, 111, 111, 0.5)' : null">
                    <p class="boxCategoriesTitle">{{tabCategories[15]?.name}}</p>
                    <i class="fa-solid fa-music"></i>
                </section>
                <section class="boxCategories" (click)="addCategory(tabCategories[17]?.name)" [style.background-color]="categoryAddedOrNot(tabCategories[17]?.name) ? 'rgba(111, 111, 111, 0.5)' : null">
                    <p class="boxCategoriesTitle">{{tabCategories[17]?.name}}</p>
                    <i class="fa-solid fa-music"></i>
                </section>
                <section class="boxCategories" (click)="addCategory(tabCategories[18]?.name)" [style.background-color]="categoryAddedOrNot(tabCategories[18]?.name) ? 'rgba(111, 111, 111, 0.5)' : null">
                    <p class="boxCategoriesTitle">{{tabCategories[18]?.name}}</p>
                    <i class="fa-solid fa-music"></i>
                </section>
                <section class="boxCategories" (click)="addCategory(tabCategories[19]?.name)" [style.background-color]="categoryAddedOrNot(tabCategories[19]?.name) ? 'rgba(111, 111, 111, 0.5)' : null">
                    <p class="boxCategoriesTitle">{{tabCategories[19]?.name}}</p>
                    <i class="fa-solid fa-music"></i>
                </section>
            </div>
        </div>
    </div>
    <div class="content">
        <div *ngFor="let category of tabCategoriesTracks" class="categoryContainer">
            <h2>{{ category.category }}</h2> <!-- Affiche le nom de la catégorie -->
            <div class="allTrack">
                <div *ngFor="let track of category.tracks" class="boxTrack">
                    <div class="boxInfoTracks">
                        <img src="{{track?.albumImageUrl}}" alt="img album">                
                        <p class="trackName">{{track?.name}}</p>
                        <div class="boxMoreInfoTracks">
                            <p class="trackArtist">{{track?.artists[0]}}</p> 
                            <p class="trackPopularity">{{track?.popularity}}</p>                       
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</section>